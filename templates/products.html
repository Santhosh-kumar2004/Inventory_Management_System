{% extends "base.html" %}
{% block content %}
<h2>Products</h2>
<div class="form-container">
<form method="POST">
    {{ form.hidden_tag() }}
    {{ form.product_id.label }} {{ form.product_id() }}<br>
    {{ form.name.label }} {{ form.name() }}<br>
    {{ form.submit(class="btn") }}
</form>
</div>
<hr>
<table>
<tr><th>Product ID</th><th>Name</th><th>Actions</th></tr>
{% for p in products %}
<tr>
    <td>{{ p.product_id }}</td>
    <td>{{ p.name }}</td>
    <td>
        <a class="btn" href="{{ url_for('edit_product', product_id=p.product_id) }}">Edit</a>
        <form action="{{ url_for('delete_product', product_id=p.product_id) }}" method="POST" style="display:inline;">
            <button class="btn btn-delete" type="submit" onclick="return confirm('Are you sure?');">Delete</button>
        </form>
    </td>
</tr>
{% endfor %}
</table>
{% endblock %}
